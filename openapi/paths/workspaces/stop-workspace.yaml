post:
  operationId: stopWorkspace
  tags: [workspaces]
  summary: Stop a workspace
  description: |
    **Stop a workspace**
    
    Stop a running workspace by halting all associated Pods and services. This operation helps reduce
    costs by stopping compute resources while preserving data. Note that this is only possible for selected workspace types.
    
    **Behavior:**
    - All Pods associated with the workspace will be stopped or terminated
    - The workspace status will transition from `RUNNING` to `STOPPED`
    - Persistent volumes remain attached and data is preserved
    - Access information (ports, IPs) will be unavailable until the workspace is restarted
    - The workspace can be restarted later using the `POST /workspace/{workspace_id}/start` endpoint

  parameters:
    - name: workspace_id
      in: path
      required: true
      schema:
        type: string
        format: uuid
      description: ID of the workspace to stop
  responses:
    '200':
      $ref: '../../components/responses/workspace-stop-response.yaml'
      useExample: success
    '404':
      $ref: '../../components/responses/error-response.yaml'
      useExample: workspace-not-found
    '500':
      $ref: '../../components/responses/error-response.yaml'
      useExample: server-error

  x-codeSamples:
    - lang: curl
      label: cURL
      source: |
        curl -X POST "https://api.exalsius.ai/workspace/123e4567-e89b-12d3-a456-426614174000/stop"

    - lang: python
      label: Python
      source: |
        import requests
        response = requests.post("https://api.exalsius.ai/workspace/123e4567-e89b-12d3-a456-426614174000/stop")
        print(response.json())